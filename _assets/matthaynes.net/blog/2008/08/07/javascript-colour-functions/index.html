<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB">
<head profile="http://dublincore.org/documents/dcq-html/">

	<title> Javascript Colour Functions &raquo;  Matt Haynes - Programming &amp; Tech Blog</title>
	
	<meta name="verify-v1" content="xovWkED3LNiudzGlTdK+mcPkIaJ/G/1wqFNrrXEdeSM=" />
	<meta name="generator" content="WordPress 2.6.2" /> <!-- leave this for stats -->
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />	
	
				<meta name="googlebot" content="index,noarchive,follow,noodp" />
		<meta name="robots" content="all,index,follow" />
		<meta name="msnbot" content="all,index,follow" />
		
	<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc-rsd.php.html" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6.2" />

<style type="text/css">.addtoany_share_save img{border:0;}</style>
<meta name="description" content="I spent a couple of hours working through a tutorial on creating a colour picker widget in javascript. I thought Iâ€™d highlight a couple of useful generic javascript colour functions, including converting RGB values to hexidecimal and RGB to HSV. " />
	
	<script type="text/javascript" src="../../../../../js/swfobject.js"></script>
	
	<!-- Syntax highlighter -->
	<link type="text/css" rel="stylesheet" href="../../../../../js/syntax_highlighter/SyntaxHighlighter.css"></link>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shCore.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushXml.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushJScript.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushRuby.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushCss.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushSql.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushJava.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushCpp.js"></script>
	<script type="text/javascript" src="../../../../../js/syntax_highlighter/shBrushPhp.js"></script>
	
	
	
	<link rel="stylesheet" href="../../../../wp-content/themes/matthaynes.net/style.css" type="text/css" media="screen" />
	<link rel="alternate" type="application/rss+xml" title="Matt Haynes - Programming &amp; Tech Blog" href="../../../../feed/index.html" />
	<link rel="pingback" href="../../../../xmlrpc.php.html" />

</head>
<body>
<div id="page">

	<div id="header">
	
		<div id="hmenu">
			<ul>
				<li class="hmenu1"><a href="../../../../index.html">Home</a></li>
				<li><a href="../../../../about/index.html">About</a></li>				

<!--				<li class="page_item page-item-2"><a href="http://matthaynes.net/blog/about/" title="not nearly finished yet.">not nearly finished yet.</a></li>
-->
			</ul>
		</div>
		
		<h1 id="headertitle"><a href="../../../../index.html" title="Matt Haynes - Programming &amp; Tech Blog: An infrequent blog about the internet, programming and related technology">Matt Haynes - Programming &amp; Tech Blog</a></h1>
		
		<!--
		<p>An infrequent blog about the internet, programming and related technology</p>
-->
			
	</div>



	<div id="content">

			
		<div class="navigation">
			<div class="alignleft">&laquo; <a href="../../03/javascript-space-invaders/index.html">Javascript Space Invaders</a></div>
			<div class="alignright"><a href="../../../09/23/jsmin-ant-task-023/index.html">JSMin Ant Task 0.2.3</a> &raquo;</div>
		</div>

		<div class="post" id="post-62">

			<div class="date">
				<div class="month">
					Aug <!-- by matth -->
				</div>
				<div class="day">
					07 <!-- by matth -->					
				</div>					
				<div class="year">
					2008 <!-- by matth -->					
				</div>					
			</div>	
			
			<!-- google_ad_section_start -->
			
			<h1 class="posttitle"><a href="index.html" rel="bookmark" title="Permanent Link to Javascript Colour Functions">Javascript Colour Functions</a></h1>

			<div class="postentry">
				<p>I spent a couple of hours working through <a href="http://www.webreference.com/programming/javascript/mk/column3/" onclick="javascript:pageTracker._trackPageview('a/http://www.webreference.com/programming/javascript/mk/column3/');">Mark Khan&#8217;s article</a> on creating a colour picker widget in javascript. It&#8217;s a nice walk through, providing a good basis and a nice explanation of the technique used.</p>
<p>I thought I&#8217;d highlight a couple of useful generic colour functions in the code, as well as a couple I have written myself. The <acronym title="Red, Green, Blue">RGB</acronym> to <acronym title="Hue, Saturation, Value"><a href="#hsv">HSV</a></acronym> conversion functions may be of particular interest to those who wish to extend the functionality of the colour picker in the original article.</p>
<h3>Converting RGB to Hexcadecimal</h3>
<p>I&#8217;d never really bothered to learn the relationship between RGB values and the hex code so often seen in CSS files. With a little investigation it appeared that it&#8217;s not that difficult a concept to grasp</p>
<p>In computing <a href="http://en.wikipedia.org/wiki/Truecolor" onclick="javascript:pageTracker._trackPageview('a/http://en.wikipedia.org/wiki/Truecolor');">truecolour</a> graphics describe 256 shades of Red, Green and Blue. This equates to somewhere in the region of 16 million different colours (256 x 256 x 256). Truecolor can be represent as three separate RGB values, such as 255, 255, 255 for white, but can also be described by a hexadecimal code such as #FFFFFF.</p>
<p><a href="http://en.wikipedia.org/wiki/Hexadecimal" onclick="javascript:pageTracker._trackPageview('a/http://en.wikipedia.org/wiki/Hexadecimal');">Hexadecimal</a> is a base-16 numeral system. The symbols 0-9 and A,B,C,D,E,F represent values 0 - 15 respectively. Each truecolor RGB value maps very nicely to a two digit hexadecimal code as 16 x 16 = 256. Therefore in the white example #FFFFFF, each two digit code (FF) represents 255 for each of the of the RGB colour channels.</p>
<p>Converting an integer to a hex value is therefore very simple using javascript&#8217;s built in Integer.toString() method</p>
<pre name="code" class="javascript">
/**
* Converts integer to a hexidecimal code, prepad's single digit hex codes with 0 to
* always return a two digit code.
*
* @param {Integer} i Integer to convert
* @returns {String} The hexidecimal code
*/
function intToHex(i) {
    var hex = parseInt(i).toString(16);
    return (hex.length < 2) ? "0" + hex : hex;
}
</pre>
<p>Converting in the other direction is unsuprisingly just as simple, this time using javascript&#8217;s <code>parseInt()</code> method. We need to precede our hex string with &#8220;0x&#8221; to tell the <code>parseInt()</code> method that the number is a hexadecimal. See the <a href="http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Global_Functions:parseInt" onclick="javascript:pageTracker._trackPageview('a/http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Global_Functions:parseInt');">Mozilla javascript docs</a> for more details.</p>
<pre name="code" class="javascript">
/**
* Converts a hex number back to an integer, uses the javascript parseInt method
* with a base number (or radix) of 16. EG: parseInt("0x" + hex);
*
* @param {String} hex The hex code to convert
* @returns {Integer} The integer conversion of the hex number
*/
function hexToInt(hex) {
    return parseInt("0x" + hex);
}
</pre>
<h3 id="hsv">Converting RGB to HSV</h3>
<p><a href="http://en.wikipedia.org/wiki/HSL_and_HSV" onclick="javascript:pageTracker._trackPageview('a/http://en.wikipedia.org/wiki/HSL_and_HSV');">Hue, Saturation and Value</a> (or Hue, Saturation and Brightness) is a common way of representing points within the RGB truecolor spectrum. These conversion functions were not present in the original colour picker article but their addition will give us some useful functionality.</p>
<p>Not being particularly gifted in mathematics I won&#8217;t attempt to explain in detail what&#8217;s going on here.  I based these equations on the <a href="http://en.wikipedia.org/wiki/HSL_and_HSV" onclick="javascript:pageTracker._trackPageview('a/http://en.wikipedia.org/wiki/HSL_and_HSV');">Wikipedia article for HSV</a>, I suggest anybody wanting a deeper understanding of the concept start there.</p>
<pre name="code" class="javascript">
/**
* Converts HSV to RGB value.
*
* @param {Integer} h Hue as a value between 0 - 360 degrees
* @param {Integer} s Saturation as a value between 0 - 100 %
* @param {Integer} v Value as a value between 0 - 100 %
* @returns {Array} The RGB values  EG: [r,g,b], [255,255,255]
*/
function hsvToRgb(h,s,v) {

    var s = s / 100,
         v = v / 100;

    var hi = Math.floor((h/60) % 6);
    var f = (h / 60) - hi;
    var p = v * (1 - s);
    var q = v * (1 - f * s);
    var t = v * (1 - (1 - f) * s);

    var rgb = [];

    switch (hi) {
        case 0: rgb = [v,t,p];break;
        case 1: rgb = [q,v,p];break;
        case 2: rgb = [p,v,t];break;
        case 3: rgb = [p,q,v];break;
        case 4: rgb = [t,p,v];break;
        case 5: rgb = [v,p,q];break;
    }

    var r = Math.min(255, Math.round(rgb[0]*256)),
        g = Math.min(255, Math.round(rgb[1]*256)),
        b = Math.min(255, Math.round(rgb[2]*256));

    return [r,g,b];

}	

/**
* Converts RGB to HSV value.
*
* @param {Integer} r Red value, 0-255
* @param {Integer} g Green value, 0-255
* @param {Integer} b Blue value, 0-255
* @returns {Array} The HSV values EG: [h,s,v], [0-360 degrees, 0-100%, 0-100%]
*/
function rgbToHsv(r, g, b) {

    var r = (r / 255),
         g = (g / 255),
  	 b = (b / 255);	

    var min = Math.min(Math.min(r, g), b),
        max = Math.max(Math.max(r, g), b),
        delta = max - min;

    var value = max,
        saturation,
        hue;

    // Hue
    if (max == min) {
        hue = 0;
    } else if (max == r) {
        hue = (60 * ((g-b) / (max-min))) % 360;
    } else if (max == g) {
        hue = 60 * ((b-r) / (max-min)) + 120;
    } else if (max == b) {
        hue = 60 * ((r-g) / (max-min)) + 240;
    }

    if (hue < 0) {
        hue += 360;
    }

    // Saturation
    if (max == 0) {
        saturation = 0;
    } else {
        saturation = 1 - (min/max);
    }

    return [Math.round(hue), Math.round(saturation * 100), Math.round(value * 100)];
}
</pre>
							</div>
			
			<!-- google_ad_section_end -->
		
			<div class="postmetadata">
				<h4>What next?</h4>
				<ul>
					<li>Comment: <a href="#respond">comment</a> (<a href='feed/index.html'>RSS</a>)</li>					<li>Blog: <a href="trackback/index.html " rel="trackback">trackback</a></li>					<li>Bookmarks: 
    <a class="a2a_dd addtoany_share_save" onmouseover="a2a_show_dropdown(this)" onmouseout="a2a_onMouseOut_delay()" href="http://www.addtoany.com/share_save?sitename=Matt%20Haynes%20-%20Programming%20&amp;%20Tech%20Blog&siteurl=http://matthaynes.net/blog/&linkname=Javascript%20Colour%20Functions&linkurl=http://matthaynes.net/blog/2008/08/07/javascript-colour-functions/">share / save</a>

	</li>					<li>More from: <a href="../../../../category/programming/index.html" title="View all posts in programming" rel="category tag">programming</a></li>
																
				</ul>

				 <div class="googleAdsense">
				 
					<script type="text/javascript"><!--
						google_ad_client = "pub-2080466711284061";
						/* 468x60, created 7/21/08 */
						google_ad_slot = "7169917108";
						google_ad_width = 468;
						google_ad_height = 60;
					//-->
					</script>
					
					<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
				 
				 </div>
			 
			 </div>			
			
		</div>
	
<!-- You can start editing here. -->

<div id="comments">
	<h3>5 Comments</h3>

	<ol class="commentlist">

	
		<li class="alt" id="comment-772">
			<h4><a href="http://www.timeglider.com" onclick="javascript:pageTracker._trackPageview('a/http://www.timeglider.com');"  rel='external nofollow'>Michael Richardson</a></h4>
			<span class="commentmetadata">on 6 Feb 2009 at 10:31 pm </span>			
			<p>Thank you!  Gracious, so many of these conversion scripts didn&#8217;t take the 360Â° nature of the hue into account&#8230;  This has helped end a couple days of pulling hair.</p>
			
		</li>

	
	
		<li class="" id="comment-2220">
			<h4><a href="http://www.illovich.com/illicious/links-for-2009-06-09" onclick="javascript:pageTracker._trackPageview('a/http://www.illovich.com/illicious/links-for-2009-06-09');"  rel='external nofollow'>my so-called blog &raquo; links for 2009-06-09</a></h4>
			<span class="commentmetadata">on 10 Jun 2009 at 2:01 am </span>			
			<p>[...] Javascript Colour Functions Â» Matt Haynes - Programming &amp; Tech Blog Iâ€™d never really bothered to learn the relationship between RGB values and the hex code so often seen in CSS files. With a little investigation it appeared that itâ€™s not that difficult a concept to grasp [...]</p>
			
		</li>

	
	
		<li class="alt" id="comment-7526">
			<h4>bh</h4>
			<span class="commentmetadata">on 13 May 2010 at 9:18 am </span>			
			<p>Thank you very much for the RGB to HSL converter, works perfectly. You have probably saved me a few hours of work at least.</p>
			
		</li>

	
	
		<li class="" id="comment-7812">
			<h4><a href="http://www.huttar.net/wordpress" onclick="javascript:pageTracker._trackPageview('a/http://www.huttar.net/wordpress');"  rel='external nofollow'>Lars</a></h4>
			<span class="commentmetadata">on 28 May 2010 at 7:43 pm </span>			
			<p>Thanks for the HSV to RGB conversion!</p>
			
		</li>

	
	
		<li class="alt" id="comment-14272">
			<h4>simon</h4>
			<span class="commentmetadata">on 1 Feb 2011 at 11:34 pm </span>			
			<p>Hello Matt im just woundering if you could help me&#8230;<br />
im created a colour picker with mark khan tutorial and its all working fine, but i would like to be able to postion the colour slider ect using an external hex value like photoshop, I have had a look and im quite lost really any ideas would be very helpfull many thanks.</p>
			
		</li>

	
	
	</ol>

 

<h3 id="respond">Leave a comment</h3>


<form action="http://matthaynes.net/blog/wp-comments-post.php" method="post" id="commentform">
<fieldset>

<label for="author">Name </label>
<input type="text" name="author" id="author" value="" size="22" tabindex="1" />

<label for="email">E-Mail (will not be published) </label>
<input type="text" name="email" id="email" value="" size="22" tabindex="2" />

<label for="url">Website</label>
<input type="text" name="url" id="url" value="" size="22" tabindex="3" />


<!--<p><small><strong>XHTML:</strong> You can use these tags: &lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </small></p>-->

<p><textarea name="comment" id="comment" rows="10" cols="" tabindex="4"></textarea></p>

<p><input class="button" name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" /></p>

	<input class="hidden" type="hidden" name="comment_post_ID" value="62" />

	
</fieldset>
</form>

</div>


	

	</div>

<!-- google_ad_section_start(weight=ignore) -->
	<div id="sidebar">
		<ul>
			
			<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
			<li>
				<h2>Search</h2>

					<form method="get" id="searchform" action="http://matthaynes.net/blog/">
	<fieldset>
		<label for="s" class="hidden">Search</label>		
		<input type="text" class="textbox" size="18" name="s" id="s" />
		<input type="submit" class="button" value="Go" />
	</fieldset>
</form>

			</li>
			

			<li>
				<h2>Recent posts</h2>
				<ul>
											<li>
							<a href="../../../../2009/09/30/developing-dashboard-widgets-with-unimotion/index.html">
								Developing Dashboard widgets wit&hellip;							</a></li>
											<li>
							<a href="../../../../2009/06/21/cycling-london-to-brighton/index.html">
								Cycling London to Brighton							</a></li>
											<li>
							<a href="../../../../2009/04/19/growl-atom-constant-badgering/index.html">
								Growl + Atom = Constant Badgerin&hellip;							</a></li>
											<li>
							<a href="../../../../2009/01/31/xml-directory-listing-02/index.html">
								XML Directory Listing 0.2							</a></li>
											<li>
							<a href="../../../../2009/01/31/google-gone-grazy/index.html">
								Google gone crazy							</a></li>
											<li>
							<a href="../../../10/05/money-to-burn-visit-swoopo/index.html">
								Money to burn? Visit Swoopo							</a></li>
											<li>
							<a href="../../../09/29/javascript-and-the-unit-circle/index.html">
								Javascript &amp; the Unit Circle							</a></li>
											<li>
							<a href="../../../09/27/use-an-sms-gateway-to-send-spoof-messages/index.html">
								Use an SMS Gateway to send spoof&hellip;							</a></li>
											<li>
							<a href="../../../09/23/jsmin-ant-task-023/index.html">
								JSMin Ant Task 0.2.3							</a></li>
											<li>
							<a href="index.html">
								Javascript Colour Functions							</a></li>
									
				</ul>
			</li>


			
			

			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Author</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li><h2>Categories</h2>
				<ul>
					<li class="cat-item cat-item-36"><a href="../../../../category/cycling/index.html" title="View all posts filed under cycling">cycling</a>
</li>
	<li class="cat-item cat-item-11"><a href="../../../../category/programming/index.html" title="A collection of posts on programming in general. This mostly feature&#039;s javascript articles but may delve into any of the other languages I use. ">programming</a>
</li>
	<li class="cat-item cat-item-28"><a href="../../../../category/websites/index.html" title="Interesting things I have found online">websites</a>
</li>
				</ul>
			</li>

			<li><h2>Monthly</h2>
				<ul>
					<li><a href='../../../../2009/09/index.html' title='September 2009'>September 2009</a></li>
	<li><a href='../../../../2009/06/index.html' title='June 2009'>June 2009</a></li>
	<li><a href='../../../../2009/04/index.html' title='April 2009'>April 2009</a></li>
	<li><a href='../../../../2009/01/index.html' title='January 2009'>January 2009</a></li>
	<li><a href='../../../10/index.html' title='October 2008'>October 2008</a></li>
	<li><a href='../../../09/index.html' title='September 2008'>September 2008</a></li>
	<li><a href='../../index.html' title='August 2008'>August 2008</a></li>
	<li><a href='../../../07/index.html' title='July 2008'>July 2008</a></li>
	<li><a href='../../../06/index.html' title='June 2008'>June 2008</a></li>
	<li><a href='../../../../2007/09/index.html' title='September 2007'>September 2007</a></li>
	<li><a href='../../../../2007/07/index.html' title='July 2007'>July 2007</a></li>
				</ul>
			</li>

<!--
			<li class="pagenav"><h2>Pages</h2><ul><li class="page_item page-item-2"><a href="http://matthaynes.net/blog/about/" title="not nearly finished yet.">not nearly finished yet.</a></li>
</ul></li>-->
			
					</ul>
		
	</div>

<!-- google_ad_section_end -->
<div id="footer">
	<a href="../../../../about/index.html">about</a> | <a href="../../../../feed/index.html">entries</a> | <a href="../../../../comments/feed/index.html">comments</a>
	<br />
		<!-- Google Analytics for WordPress | http://yoast.com/wordpress/google-analytics/ -->
	<script type="text/javascript">
		var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		var pageTracker = _gat._getTracker("UA-2629771-4");
	</script>
	<script src="../../../../wp-content/plugins/google-analytics-for-wordpress/custom_se.js" type="text/javascript"></script>
	<script type="text/javascript">
	pageTracker._setLocalRemoteServerMode();		pageTracker._initData();
		
		pageTracker._trackPageview();
	</script>
	<!-- End of Google Analytics code -->
		<script src="../../../../wp-content/plugins/google-analytics-for-wordpress/adsense-track.js" type="text/javascript"></script>
<script type="text/javascript">
a2a_localize = {
	Share: "Share",
	Save: "Save",
	Subscribe: "Subscribe",
	ShowAll: "Show all",
	ShowLess: "Show less",
	FindServices: "Find service(s)",
	FindAnyServiceToAddTo: "Instantly find any service to add to",
	PoweredBy: "Powered by",
	ShareViaEmail: "Share via e-mail",
	SubscribeViaEmail: "Subscribe via e-mail",
	BookmarkInYourBrowser: "Bookmark in your browser",
	BookmarkInstructions: "After clicking OK, press Ctrl+D or Cmd+D to bookmark this page",
	AddToYourFavorites: "Add to your favorites"
};
a2a_linkname="Javascript Colour Functions";
a2a_linkurl="http://matthaynes.net/blog/2008/08/07/javascript-colour-functions/";
a2a_show_title=1;

</script><script type="text/javascript" src="http://static.addtoany.com/menu/page.js"></script>

</div>
</div> <!-- page -->

<!-- JS Calls -->
<script type="text/javascript">
dp.SyntaxHighlighter.ClipboardSwf = '/js/syntax_highlighter/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');
</script>

</body>


</html>
	

<!-- Localized -->